# ä»ªè¡¨ç›˜ç•Œé¢ä¼˜åŒ–ä¸è¶‹åŠ¿å›¾åŠŸèƒ½è¯´æ˜

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

å¯¹åå°æ•°æ®ä»ªè¡¨ç›˜è¿›è¡Œäº†å…¨é¢çš„ç•Œé¢ä¼˜åŒ–ï¼ŒåŒ…æ‹¬æ”¾å¤§å¡ç‰‡å›¾æ ‡ã€ä½¿ç”¨Elementç»å…¸è‰²å½©ï¼Œä»¥åŠä¸ºè´¨é‡é¢„è­¦ç›‘æ§æ·»åŠ äº†å¹´åˆåˆ°å½“å‰çš„è¶‹åŠ¿å›¾å±•ç¤ºåŠŸèƒ½ã€‚

## âœ¨ ç•Œé¢ä¼˜åŒ–å†…å®¹

### 1. å¡ç‰‡å›¾æ ‡ä¼˜åŒ–
- **å›¾æ ‡å°ºå¯¸**ï¼šä»48pxÃ—48pxæ”¾å¤§åˆ°64pxÃ—64px
- **å›¾æ ‡å­—ä½“**ï¼šä»22pxæ”¾å¤§åˆ°32px
- **ç§»åŠ¨ç«¯é€‚é…**ï¼šå°å±å¹•ä¸‹56pxÃ—56pxï¼Œå­—ä½“28px
- **è§†è§‰æ•ˆæœ**ï¼šæ›´åŠ é†’ç›®å’Œç°ä»£åŒ–

### 2. Elementç»å…¸è‰²å½©åº”ç”¨
- **ä¸»è¦æ–‡å­—**ï¼šä½¿ç”¨Elementçš„`#303133`ï¼ˆä¸»è¦æ–‡å­—è‰²ï¼‰
- **æ¬¡è¦æ–‡å­—**ï¼šä½¿ç”¨Elementçš„`#606266`ï¼ˆå¸¸è§„æ–‡å­—è‰²ï¼‰
- **è¾…åŠ©æ–‡å­—**ï¼šä½¿ç”¨Elementçš„`#909399`ï¼ˆæ¬¡è¦æ–‡å­—è‰²ï¼‰
- **æˆåŠŸè‰²**ï¼šä½¿ç”¨Elementçš„`#67c23a`
- **å±é™©è‰²**ï¼šä½¿ç”¨Elementçš„`#f56c6c`
- **ä¸»é¢˜è‰²**ï¼šä½¿ç”¨Elementçš„`#409eff`

### 3. å¡ç‰‡å¸ƒå±€ä¼˜åŒ–
- **æ ¸å¿ƒæŒ‡æ ‡**ï¼šç§»é™¤é‡å¤çš„ä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡ï¼Œä¿æŒ3ä¸ªæ ¸å¿ƒå¡ç‰‡
- **å“åº”å¼å¸ƒå±€**ï¼š3åˆ—â†’2åˆ—â†’1åˆ—çš„è‡ªé€‚åº”å¸ƒå±€
- **å›¾æ ‡èƒŒæ™¯**ï¼šä½¿ç”¨Elementç»å…¸è‰²å½©çš„æ·¡è‰²ç‰ˆæœ¬

## ğŸ¯ è´¨é‡è¶‹åŠ¿å›¾åŠŸèƒ½

### 1. è¶‹åŠ¿å›¾å±•ç¤º
- **æ—¶é—´èŒƒå›´**ï¼šå¹´åˆåˆ°å½“å‰æœˆä»½çš„å®Œæ•´è¶‹åŠ¿
- **åŒæŒ‡æ ‡æ˜¾ç¤º**ï¼šä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡ + å®¢æˆ·æŠ•è¯‰ç‡
- **ç›®æ ‡çº¿æ ‡è¯†**ï¼šæ¸…æ™°æ˜¾ç¤ºè´¨é‡ç›®æ ‡çº¿
- **äº¤äº’ä½“éªŒ**ï¼šæ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°æ®

### 2. åŒåæ ‡è½´è®¾è®¡ï¼ˆä¼˜åŒ–åï¼‰
- **ä¸»åæ ‡è½´ï¼ˆå·¦ä¾§ï¼‰**ï¼šä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡ (96-100%) - ç¼©å°èŒƒå›´çªå‡ºå˜åŒ–
- **æ¬¡åæ ‡è½´ï¼ˆå³ä¾§ï¼‰**ï¼šå®¢æˆ·æŠ•è¯‰ç‡ (0-2%) - ç¼©å°èŒƒå›´çªå‡ºå˜åŒ–
- **ç‹¬ç«‹åˆ»åº¦**ï¼šä¸¤ä¸ªæŒ‡æ ‡ä½¿ç”¨ä¸åŒçš„åˆ»åº¦èŒƒå›´
- **æ¸…æ™°æ ‡è¯†**ï¼šä¸åŒé¢œè‰²åŒºåˆ†ä¸¤ä¸ªåæ ‡è½´
- **æŠ˜çº¿æ˜æ˜¾**ï¼šé€šè¿‡ç¼©å°åæ ‡è½´èŒƒå›´ï¼Œè®©æ•°æ®å˜åŒ–æ›´åŠ æ˜æ˜¾

### 3. æ•°æ®å¯è§†åŒ–
```javascript
// è¶‹åŠ¿æ•°æ®ç»“æ„
yearlyTrendData: [
  {
    month: 1,
    monthLabel: "1æœˆ",
    passRate: 98.2,        // ä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡ (ä¸»åæ ‡è½´)
    complaintRate: 1.8,    // å®¢æˆ·æŠ•è¯‰ç‡ (æ¬¡åæ ‡è½´)
    inspectionBatches: 150,
    deliveryBatches: 145,
    internalComplaints: 3,
    customerComplaints: 2
  }
  // ... æ›´å¤šæœˆä»½æ•°æ®
]

// åæ ‡è½´é…ç½®ï¼ˆä¼˜åŒ–åï¼‰
primaryYAxisTicks: [96, 97, 98, 99, 100]        // ä¸»åæ ‡è½´åˆ»åº¦ (96-100%)
secondaryYAxisTicks: [0, 0.5, 1, 1.5, 2]        // æ¬¡åæ ‡è½´åˆ»åº¦ (0-2%)
```

### 3. å›¾è¡¨ç‰¹æ€§
- **SVGç»˜åˆ¶**ï¼šä½¿ç”¨SVGå®ç°å¹³æ»‘çš„è¶‹åŠ¿çº¿
- **æ¸å˜èƒŒæ™¯**ï¼šåŒºåˆ†åˆæ ¼ç‡å’ŒæŠ•è¯‰ç‡åŒºåŸŸ
- **æ•°æ®ç‚¹æ ‡è¯†**ï¼šå¯ç‚¹å‡»çš„æ•°æ®ç‚¹æ˜¾ç¤ºå…·ä½“æ•°å€¼
- **ç›®æ ‡çº¿**ï¼šè™šçº¿æ˜¾ç¤ºè´¨é‡ç›®æ ‡
- **å›¾ä¾‹è¯´æ˜**ï¼šæ¸…æ™°çš„é¢œè‰²å’Œå›¾ä¾‹æ ‡è¯†

## ğŸ¨ è§†è§‰è®¾è®¡ç‰¹ç‚¹

### 1. è¶‹åŠ¿å›¾è®¾è®¡
```css
/* è¶‹åŠ¿çº¿æ ·å¼ */
.trend-line.pass-rate-line {
  stroke: #10b981;  /* ç»¿è‰² - åˆæ ¼ç‡ */
  stroke-width: 2;
}

.trend-line.complaint-rate-line {
  stroke: #f59e0b;  /* æ©™è‰² - æŠ•è¯‰ç‡ */
  stroke-width: 2;
}

/* æ•°æ®ç‚¹æ ·å¼ */
.data-point.pass-rate-point {
  background: #10b981;
  border: 2px solid #fff;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.data-point.complaint-rate-point {
  background: #f59e0b;
  border: 2px solid #fff;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
}
```

### 2. ç›®æ ‡çº¿è®¾è®¡
```css
/* ç›®æ ‡çº¿æ ·å¼ */
.target-line.pass-rate-target {
  border-top: 2px dashed #10b981;  /* åˆæ ¼ç‡ç›®æ ‡çº¿ */
}

.target-line.complaint-rate-target {
  border-top: 2px dashed #ef4444;  /* æŠ•è¯‰ç‡ç›®æ ‡çº¿ */
}
```

### 3. äº¤äº’æ•ˆæœ
- **æ‚¬åœæ”¾å¤§**ï¼šæ•°æ®ç‚¹æ‚¬åœæ—¶æ”¾å¤§1.5å€
- **æ•°å€¼æ˜¾ç¤º**ï¼šæ‚¬åœæ—¶æ˜¾ç¤ºå…·ä½“æ•°å€¼
- **å¹³æ»‘è¿‡æ¸¡**ï¼šæ‰€æœ‰åŠ¨ç”»ä½¿ç”¨0.3sç¼“åŠ¨æ•ˆæœ

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. è¶‹åŠ¿å›¾è®¡ç®—å‡½æ•°
```javascript
// Yè½´ä½ç½®è®¡ç®—
const getYPosition = (value) => {
  return Math.max(0, Math.min(100, value))
}

// Xè½´ä½ç½®è®¡ç®—
const getXPosition = (index) => {
  const totalMonths = yearlyTrendData.value.length
  if (totalMonths <= 1) return 50
  return (index / (totalMonths - 1)) * 100
}

// è¶‹åŠ¿çº¿ç‚¹åæ ‡ç”Ÿæˆ
const getPassRatePoints = () => {
  return yearlyTrendData.value.map((month, index) => {
    const x = getXPosition(index)
    const y = 100 - getYPosition(month.passRate)
    return `${x},${y}`
  }).join(' ')
}
```

### 2. æ•°æ®è·å–é€»è¾‘
```javascript
// è·å–å¹´åº¦è¶‹åŠ¿æ•°æ®
const fetchYearlyTrendData = async (token) => {
  try {
    const res = await axios.get('/api/quality-metrics/trends', {
      headers: { Authorization: `Bearer ${token}` },
      params: {
        year: new Date().getFullYear(),
        months: 12
      }
    })
    
    if (res.data.success) {
      yearlyTrendData.value = res.data.data.map(item => ({
        month: item.StatMonth,
        monthLabel: `${item.StatMonth}æœˆ`,
        passRate: item.FirstPassRate || 0,
        complaintRate: item.DeliveryPassRate ? (100 - item.DeliveryPassRate) : 0
      }))
    } else {
      generateMockTrendData() // ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®
    }
  } catch (error) {
    generateMockTrendData() // é”™è¯¯æ—¶ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
  }
}
```

### 3. æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆ
```javascript
// ç”Ÿæˆåˆç†çš„æ¨¡æ‹Ÿæ•°æ®
const generateMockTrendData = () => {
  const currentMonth = new Date().getMonth() + 1
  const mockData = []
  
  for (let month = 1; month <= currentMonth; month++) {
    const passRate = 96 + Math.random() * 4 // 96-100%
    const complaintRate = Math.random() * 3 // 0-3%
    
    mockData.push({
      month: month,
      monthLabel: `${month}æœˆ`,
      passRate: parseFloat(passRate.toFixed(1)),
      complaintRate: parseFloat(complaintRate.toFixed(1))
    })
  }
  
  yearlyTrendData.value = mockData
}
```

## ğŸ“Š æ•°æ®å±•ç¤ºç¤ºä¾‹

### è¶‹åŠ¿å›¾å±•ç¤º
```
2025å¹´è´¨é‡æŒ‡æ ‡è¶‹åŠ¿

å›¾ä¾‹ï¼šâ— ä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡  â— å®¢æˆ·æŠ•è¯‰ç‡  --- ç›®æ ‡çº¿

[è¶‹åŠ¿å›¾åŒºåŸŸ]
100% â”¤
     â”‚     â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—
 98% â”¤ â—â”€â”€â”€â”€â”€         â—â”€â”€â”€â”€â”€â— â† åˆæ ¼ç‡ç›®æ ‡çº¿ 98.5%
     â”‚
  2% â”¤ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â† æŠ•è¯‰ç‡ç›®æ ‡çº¿ 2.0%
     â”‚   â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—
  0% â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     1æœˆ  2æœˆ  3æœˆ  4æœˆ  5æœˆ  6æœˆ  7æœˆ
```

### å½“å‰çŠ¶æ€å¡ç‰‡
```
ä¸€æ¬¡äº¤æ£€åˆæ ¼ç‡          [âœ“]
98.2%
ç›®æ ‡: â‰¥98.5%
è·ç¦»ç›®æ ‡ 0.3%

å®¢æˆ·æŠ•è¯‰ç‡             [âš ]
2.78%
ç›®æ ‡: â‰¤2.0%
è¶…å‡ºç›®æ ‡ 0.78%
```

## ğŸ¯ åŠŸèƒ½ä¼˜åŠ¿

### 1. è§†è§‰ä¼˜åŒ–
- **æ›´å¤§å›¾æ ‡**ï¼šæå‡è§†è§‰å†²å‡»åŠ›å’Œè¯†åˆ«åº¦
- **ç»å…¸é…è‰²**ï¼šä½¿ç”¨Element UIç»å…¸è‰²å½©ï¼Œä¿æŒä¸€è‡´æ€§
- **æ¸…æ™°å±‚æ¬¡**ï¼šæ–‡å­—é¢œè‰²å±‚æ¬¡åˆ†æ˜ï¼Œä¿¡æ¯ä¼ è¾¾æ›´æœ‰æ•ˆ

### 2. è¶‹åŠ¿åˆ†æ
- **å…¨å¹´è§†è§’**ï¼šä»å¹´åˆåˆ°å½“å‰çš„å®Œæ•´è¶‹åŠ¿å±•ç¤º
- **åŒæŒ‡æ ‡å¯¹æ¯”**ï¼šåŒæ—¶å±•ç¤ºåˆæ ¼ç‡å’ŒæŠ•è¯‰ç‡è¶‹åŠ¿
- **ç›®æ ‡å¯¹ç…§**ï¼šæ¸…æ™°æ˜¾ç¤ºä¸è´¨é‡ç›®æ ‡çš„å·®è·

### 3. äº¤äº’ä½“éªŒ
- **æ‚¬åœåé¦ˆ**ï¼šæ•°æ®ç‚¹æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å¹³æ»‘åŠ¨ç”»**ï¼šæå‡ç”¨æˆ·ä½“éªŒçš„å¾®åŠ¨æ•ˆ

### 4. æ•°æ®æ´å¯Ÿ
- **è¶‹åŠ¿è¯†åˆ«**ï¼šå¿«é€Ÿè¯†åˆ«è´¨é‡æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿
- **é—®é¢˜é¢„è­¦**ï¼šåŠæ—¶å‘ç°è´¨é‡æŒ‡æ ‡å¼‚å¸¸
- **ç›®æ ‡ç®¡ç†**ï¼šç›´è§‚æ˜¾ç¤ºç›®æ ‡è¾¾æˆæƒ…å†µ

## ğŸ“± å“åº”å¼é€‚é…

### å¤§å±å¹•ï¼ˆ>1200pxï¼‰
- æ ¸å¿ƒæŒ‡æ ‡ï¼š3åˆ—å¸ƒå±€
- å›¾æ ‡å°ºå¯¸ï¼š64pxÃ—64px
- è¶‹åŠ¿å›¾ï¼šå®Œæ•´æ˜¾ç¤º

### ä¸­ç­‰å±å¹•ï¼ˆ768px-1200pxï¼‰
- æ ¸å¿ƒæŒ‡æ ‡ï¼š3åˆ—å¸ƒå±€ï¼ˆä¿æŒï¼‰
- å›¾æ ‡å°ºå¯¸ï¼š64pxÃ—64px
- è¶‹åŠ¿å›¾ï¼šé€‚å½“ç¼©æ”¾

### å°å±å¹•ï¼ˆ<768pxï¼‰
- æ ¸å¿ƒæŒ‡æ ‡ï¼š2åˆ—å¸ƒå±€
- å›¾æ ‡å°ºå¯¸ï¼š56pxÃ—56px
- è¶‹åŠ¿å›¾ï¼šå‚ç›´æ»šåŠ¨

## ğŸ”® æœªæ¥æ‰©å±•

### 1. äº¤äº’å¢å¼º
- ç‚¹å‡»æ•°æ®ç‚¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- æ‹–æ‹½é€‰æ‹©æ—¶é—´èŒƒå›´
- ç¼©æ”¾å’Œå¹³ç§»åŠŸèƒ½

### 2. æ•°æ®ä¸°å¯Œ
- æ·»åŠ æ›´å¤šè´¨é‡æŒ‡æ ‡
- æ”¯æŒå¤šå¹´åº¦å¯¹æ¯”
- é¢„æµ‹è¶‹åŠ¿åˆ†æ

### 3. å¯¼å‡ºåŠŸèƒ½
- è¶‹åŠ¿å›¾å¯¼å‡ºä¸ºå›¾ç‰‡
- æ•°æ®å¯¼å‡ºä¸ºExcel
- ç”Ÿæˆè´¨é‡åˆ†ææŠ¥å‘Š

## ğŸ“ ç›¸å…³æ–‡ä»¶

### å‰ç«¯æ–‡ä»¶
- `frontend/src/views/admin/Dashboard.vue` - ä»ªè¡¨ç›˜ä¸»é¡µé¢

### APIæ¥å£
- `GET /api/quality-metrics/trends` - è´¨é‡æŒ‡æ ‡è¶‹åŠ¿æ•°æ®

### æ ·å¼ç»„ä»¶
- `.quality-trends-container` - è¶‹åŠ¿å›¾å®¹å™¨
- `.chart-svg` - SVGå›¾è¡¨å…ƒç´ 
- `.data-point` - æ•°æ®ç‚¹æ ·å¼

## ğŸ‰ æ€»ç»“

é€šè¿‡ç•Œé¢ä¼˜åŒ–å’Œè¶‹åŠ¿å›¾åŠŸèƒ½çš„æ·»åŠ ï¼Œä»ªè¡¨ç›˜ç°åœ¨æä¾›äº†ï¼š

1. âœ… **æ›´é†’ç›®çš„è§†è§‰æ•ˆæœ** - æ”¾å¤§çš„å›¾æ ‡å’Œç»å…¸é…è‰²
2. âœ… **å…¨å¹´è¶‹åŠ¿åˆ†æ** - å¹´åˆåˆ°å½“å‰çš„å®Œæ•´è´¨é‡è¶‹åŠ¿
3. âœ… **ç›´è§‚çš„ç›®æ ‡å¯¹æ¯”** - æ¸…æ™°æ˜¾ç¤ºä¸è´¨é‡ç›®æ ‡çš„å·®è·
4. âœ… **ä¸°å¯Œçš„äº¤äº’ä½“éªŒ** - æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°æ®
5. âœ… **å®Œå–„çš„å“åº”å¼è®¾è®¡** - é€‚é…å„ç§è®¾å¤‡å±å¹•

è¿™äº›ä¼˜åŒ–å¤§å¤§æå‡äº†ä»ªè¡¨ç›˜çš„å¯ç”¨æ€§å’Œæ•°æ®æ´å¯Ÿèƒ½åŠ›ï¼Œä¸ºè´¨é‡ç®¡ç†å†³ç­–æä¾›äº†æ›´å¼ºæœ‰åŠ›çš„æ”¯æŒï¼

---

**åŠŸèƒ½å¼€å‘æ—¶é—´**: 2025å¹´7æœˆ9æ—¥  
**å¼€å‘è€…**: David Lee (zglibk)  
**ç‰ˆæœ¬**: v2.2.8 - ç•Œé¢ä¼˜åŒ–ä¸è¶‹åŠ¿å›¾
