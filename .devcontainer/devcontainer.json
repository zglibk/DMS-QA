{
  "name": "DMS-QA è´¨é‡ç®¡ç†ç³»ç»Ÿå¼€å‘ç¯å¢ƒ",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:18",
  
  // åŠŸèƒ½æ‰©å±•
  "features": {
    "ghcr.io/devcontainers/features/node:1": {
      "version": "18",
      "nodeGypDependencies": true
    },
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  
  // ç«¯å£è½¬å‘é…ç½®
  "forwardPorts": [3001, 5173, 8080],
  "portsAttributes": {
    "5173": {
      "label": "å‰ç«¯å¼€å‘æœåŠ¡å™¨ (Vue + Vite)",
      "onAutoForward": "openPreview"
    },
    "3001": {
      "label": "åç«¯APIæœåŠ¡å™¨ (Node.js + Express)",
      "onAutoForward": "notify"
    }
  },
  
  // å®¹å™¨åˆ›å»ºåæ‰§è¡Œçš„å‘½ä»¤
  "postCreateCommand": "npm install && cd frontend && npm install && cd ../server && npm install && echo '\nğŸ‰ DMS-QAå¼€å‘ç¯å¢ƒé…ç½®å®Œæˆï¼\nå‰ç«¯æœåŠ¡: npm run dev (åœ¨frontendç›®å½•)\nåç«¯æœåŠ¡: node app.js (åœ¨serverç›®å½•)\n'",
  
  // VS Code è‡ªå®šä¹‰é…ç½®
  "customizations": {
    "vscode": {
      "extensions": [
        "Vue.vscode-vue",
        "ms-vscode.vscode-json",
        "bradlc.vscode-tailwindcss",
        "esbenp.prettier-vscode",
        "ms-vscode.vscode-eslint",
        "formulahendry.auto-rename-tag",
        "christian-kohler.path-intellisense",
        "ms-vscode.vscode-typescript-next",
        "ms-vscode.vscode-mysql",
        "humao.rest-client"
      ],
      "settings": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "emmet.includeLanguages": {
          "vue": "html"
        },
        "terminal.integrated.defaultProfile.linux": "bash",
        "files.associations": {
          "*.vue": "vue"
        },
        "editor.tabSize": 2,
        "editor.insertSpaces": true
      }
    }
  },
  
  // æŒ‚è½½ç‚¹é…ç½® - ä¿æŒGitå†å²
  "mounts": [
    "source=${localWorkspaceFolder}/.git,target=/workspaces/DMS-QA/.git,type=bind,consistency=cached",
    "source=dms-qa-node-modules,target=${containerWorkspaceFolder}/node_modules,type=volume",
    "source=dms-qa-frontend-node-modules,target=${containerWorkspaceFolder}/frontend/node_modules,type=volume",
    "source=dms-qa-server-node-modules,target=${containerWorkspaceFolder}/server/node_modules,type=volume"
  ],
  
  // å®¹å™¨ç”¨æˆ·é…ç½®
  "remoteUser": "node",
  
  // ç¯å¢ƒå˜é‡
  "containerEnv": {
    "NODE_ENV": "development",
    "TZ": "Asia/Shanghai"
  },
  
  // ç”Ÿå‘½å‘¨æœŸè„šæœ¬
  "postStartCommand": "echo '\nğŸ“‹ DMS-QA è´¨é‡ç®¡ç†ç³»ç»Ÿå¼€å‘ç¯å¢ƒ\nğŸŒ å‰ç«¯: http://localhost:5173\nğŸ”§ åç«¯: http://localhost:3001\nğŸ“ å·¥ä½œç›®å½•: /workspaces/DMS-QA\n\nå¿«é€Ÿå¯åŠ¨å‘½ä»¤:\n  å‰ç«¯: cd frontend && npm run dev\n  åç«¯: cd server && node app.js\n'",
  
  // è‡ªåŠ¨åœæ­¢é…ç½®ï¼ˆèŠ‚çœèµ„æºï¼‰
  "shutdownAction": "stopCodespace"
}